(function(t){function e(e){for(var n,o,s=e[0],l=e[1],u=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/table_test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},4536:function(t,e,a){"use strict";var n=a("6d58"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("Form"),a("Table")],1)])},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("table",{staticStyle:{width:"100%"}},[a("tr",{staticClass:"table__header"},[a("th",[t._v("ID")]),a("th",[t._v("ФИО участника забега")]),a("th",[a("div",{staticClass:"table__sort-button"},[t.aSortCol[0]?a("button",{on:{click:function(e){return t.sortUp("date",0)}}},[t._v(" ↑ ")]):t._e(),t.aSortCol[0]?t._e():a("button",{on:{click:function(e){return t.sortDown("date",0)}}},[t._v(" ↓ ")])]),a("p",[t._v("Дата рождения")])]),a("th",[t._v("Email")]),a("th",[t._v("Телефон")]),a("th",[a("div",{staticClass:"table__sort-button"},[t.aSortCol[1]?a("button",{on:{click:function(e){return t.sortUp("distance",1)}}},[t._v(" ↑ ")]):t._e(),t.aSortCol[1]?t._e():a("button",{on:{click:function(e){return t.sortDown("distance",1)}}},[t._v(" ↓ ")])]),a("p",[t._v("Дистанция")])]),a("th",[a("div",{staticClass:"table__sort-button"},[t.aSortCol[2]?a("button",{on:{click:function(e){return t.sortUp("payment",2)}}},[t._v(" ↑ ")]):t._e(),t.aSortCol[2]?t._e():a("button",{on:{click:function(e){return t.sortDown("payment",2)}}},[t._v(" ↓ ")])]),a("p",[t._v("Сумма взноса")])])]),t._l(t.tableData[t.count],(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(t.formatDate(e.date)))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.distance))]),a("td",[t._v(t._s(e.payment))])])}))],2),t.tableData.length>=2?a("div",{staticClass:"pagination"},t._l(t.tableData,(function(e,n){return a("div",{key:n},[a("button",{on:{click:function(e){return t.changeCount(n)}}},[t._v(t._s(n+1))])])})),0):t._e()])},s=[],l=(a("0d03"),a("5530")),u=a("2f62"),c={name:"Table",props:{msg:String},data:function(){return{aSortCol:[!0,!0,!0],count:0}},created:function(){},computed:Object(l["a"])({},Object(u["b"])(["tableData"])),methods:{sortUp:function(t,e){this.$store.dispatch("sortTable",t),this.aSortCol[e]=!this.aSortCol[e]},sortDown:function(t,e){this.$store.dispatch("sortTablePlus",t),this.aSortCol[e]=!this.aSortCol[e]},changeCount:function(t){console.log(t),this.count=t},formatDate:function(t){t=new Date(t);var e=t.getDate(),a=t.getMonth()+1;a<10&&(a="0"+a);var n=t.getFullYear();return e+"."+a+"."+n}}},d=c,p=(a("4536"),a("2877")),m=Object(p["a"])(d,o,s,!1,null,"52fa4466",null),f=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-user",attrs:{action:"",novalidate:"true"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("label",{attrs:{for:"name"}},[a("p",[t._v("ФИО участника забега")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-user__input",attrs:{type:"text",name:"name",id:"name",placeholder:"ФИО"},domProps:{value:t.name},on:{input:[function(e){e.target.composing||(t.name=e.target.value)},function(e){return t.errors("name")}]}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.error.name,expression:"error.name"}]},[t._v("Поля обязательное для заполнения")])]),a("label",{attrs:{for:"date"}},[a("p",[t._v("Дата рождения")]),a("datepicker",{staticClass:"form-user__input-date",attrs:{language:t.ru,name:"uniquename",format:"dd.MM.yyyy",placeholder:"Дата рождения"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("label",{attrs:{for:"email"}},[a("p",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-user__input",attrs:{type:"email",name:"email",id:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},function(e){return t.errors("email")}]}}),a("p",[t._v(t._s(t.error.emailText))])]),a("label",{attrs:{for:"phone"}},[a("p",[t._v("Телефон")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-user__input",attrs:{maxlength:"12",type:"text",name:"phone",id:"phone",placeholder:"Номер телефона: +7"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.validEmail]}})]),a("Select",{ref:"clear",attrs:{id:"distance",label:"Дистанция участника",distanceProp:t.distance,listDistance:t.listDistance},on:{"update:distanceProp":function(e){t.distance=e},"update:distance-prop":function(e){t.distance=e}}}),a("label",{attrs:{for:"payment"}},[a("p",[t._v("Взнос в рублях")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"form-user__input",attrs:{type:"text",name:"payment",id:"payment",placeholder:"Сумма взноса"},domProps:{value:t.payment},on:{input:[function(e){e.target.composing||(t.payment=e.target.value)},function(e){return t.errors("payment")}]}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.error.payment,expression:"error.payment"}]},[t._v("Поля обязательное для заполнения")])]),a("div",[a("input",{staticClass:"form-user__submit",attrs:{disabled:t.enabledForm,type:"submit",value:"Отправить"}})])],1)])},h=[],b=(a("fb6a"),a("b0c0"),a("ac1f"),a("5319"),a("fa33")),_=a("2430"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-user__container-list"},[a("label",{attrs:{for:t.distance}},[a("p",[t._v(t._s(t.label))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.distance,expression:"distance"}],staticClass:"form-user__input",attrs:{type:"text",id:t.distance,readonly:"",placeholder:"Дистанция забега"},domProps:{value:t.distance},on:{click:function(e){e.stopPropagation(),t.visible=!0},input:function(e){e.target.composing||(t.distance=e.target.value)}}})]),t.visible?a("div",[a("ul",{staticClass:"form-user__list"},t._l(t.listDistance,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.selected(e)}}},[a("p",[t._v(t._s(e.value))])])})),0)]):t._e()])},g=[],D={data:function(){return{distance:"",visible:!1}},created:function(){var t=this;document.addEventListener("click",(function(){t.toggleDropdown()}))},computed:{},methods:{selected:function(t){return this.distance=t.value,this.$emit("update:distanceProp",t),1},toggleDropdown:function(){this.visible=!1},clearInput:function(){this.distance=""}},props:{distanceProp:{type:Object},label:{type:String},listDistance:{type:Array}}},w=D,C=Object(p["a"])(w,y,g,!1,null,null,null),x=C.exports,k={data:function(){return{ru:_["ru"],name:"",date:null,distance:{value:!1},email:"",phone:null,payment:"",disable:!0,error:{name:!1,payment:!1,emailText:""}}},components:{Select:x,Datepicker:b["a"]},computed:Object(l["a"])(Object(l["a"])({},Object(u["b"])(["listDistance","tableData","tableDataId"])),{},{enabledForm:function(){var t=this.validEmail(),e=this.distance,a=this.date,n=this.phone,r=this.name,i=this.payment;this.disable;return 0==a||0==r||0==e["value"]||0==t||n.length<12||0==i}}),watch:{phone:function(t){if(null!=this.phone){var e=t.length,a=t.slice(2,e).replace(/[^0-9]/g,"");this.phone="+7"+a}},payment:function(t){null!=this.payment&&(this.payment=t.replace(/[^0-9]/g,""))}},methods:{validEmail:function(){var t,e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return this.email?e.test(this.email)?(this.error.emailText="",t=!0):(this.error.emailText="Введите корректный Email",t=!1):t=!1,t},submit:function(){var t=this.tableDataId.users,e=0;for(var a in t)t[a].id>e&&(e=t[a].id);var n={id:++e,name:this.name,date:""+new Date(this.date),distance:this.distance.value,email:this.email,phone:this.phone,payment:this.payment};console.log("user",n),this.$store.dispatch("addUser",n),this.clearInput()},clearInput:function(){this.name="",this.date=null,this.distance={},this.email="",this.phone=null,this.disable=!0,this.payment="",this.$refs["clear"].clearInput()},errors:function(t){this[t]?this.error[t]=!1:this.error[t]=!0}}},S=k,O=(a("c4e7"),Object(p["a"])(S,v,h,!1,null,null,null)),T=O.exports,P={name:"App",components:{Table:f,Form:T}},j=P,E=(a("034f"),Object(p["a"])(j,r,i,!1,null,null,null)),M=E.exports,$=(a("4e82"),a("9e3a")),I=a("2ef0"),N=a.n(I),U={state:{tableData:$},mutations:{addUser:function(t,e){t.tableData.users.push(e)},sortTable:function(t,e){var a=t.tableData.users;a.sort((function(t,a){return"date"==e?new Date(t[e])<new Date(a[e])?-1:new Date(t[e])>new Date(a[e])?1:0:t[e]<a[e]?-1:t[e]>a[e]?1:0}))},sortTablePlus:function(t,e){var a=t.tableData.users;a.sort((function(t,a){return"date"==e?new Date(t[e])<new Date(a[e])?1:new Date(t[e])>new Date(a[e])?-1:0:t[e]<a[e]?1:t[e]>a[e]?-1:0}))}},actions:{addUser:function(t,e){t.commit("addUser",e)},sortTable:function(t,e){t.commit("sortTable",e)},sortTablePlus:function(t,e){t.commit("sortTablePlus",e)}},getters:{tableDataId:function(t){return t.tableData},tableData:function(t){console.log(t.tableData.users);var e=N.a.chunk(t.tableData.users,2);return e}}},F={state:{listDistance:[{id:1,value:"3"},{id:2,value:"5"},{id:3,value:"10"}]},mutations:{},actions:{},getters:{listDistance:function(t){return t.listDistance}}};n["a"].use(u["a"]);var A=new u["a"].Store({state:{},mutations:{},actions:{},getters:{},modules:{table:U,form:F}});n["a"].config.productionTip=!1,n["a"].config.devtools=!0,new n["a"]({store:A,render:function(t){return t(M)}}).$mount("#app")},"6d58":function(t,e,a){},"85ec":function(t,e,a){},"86b4":function(t,e,a){},"9e3a":function(t){t.exports=JSON.parse('{"users":[{"id":1,"date":"Wed Mar 11 1987 05:00:00 GMT+0500 (Екатеринбург, стандартное время)","name":"Куклина Мария Ивановна","email":"kyklina@mail.ru","phone":"+79223625999","distance":5,"payment":500},{"id":2,"date":"Thu May 08 1997 06:00:00 GMT+0600 (Екатеринбург, летнее время)","name":"Мокрушина Галина Юрьевна","email":"mokrushina@mail.ru","phone":"+79881125999","distance":10,"payment":300},{"id":3,"date":"Fri Jan 24 1986 05:00:00 GMT+0500 (Екатеринбург, стандартное время)","name":"Ольга Сергеевна Заводская","email":"olga.zavodckaia@mail.ru","phone":"+79008011000","distance":3,"payment":1500}]}')},c4e7:function(t,e,a){"use strict";var n=a("86b4"),r=a.n(n);r.a}});
//# sourceMappingURL=app.69201678.js.map